{% extends "sub_layout.html" %}
{% block content %}
<style>
  #limit_contents {
    display: inline-block;
    width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
</style>
<main id="main">

  <!-- ======= Our Services Section ======= -->
  <section class="breadcrumbs">
    <div class="container">

      <div class="d-flex justify-content-between align-items-center">
        <h2>Free Board</h2>
        <ol>
          <li><a href="/">Home</a></li>
          <li><a href="/services">Our Services</a></li>
        </ol>
      </div>

    </div>
  </section><!-- End Our Services Section -->

  <!-- ======= Services Section ======= -->
  <section class="services">
    <div style="width:960px; margin:0 auto">
      <div class="container">
        <div class="row">
          <div class="col">
            <h2>자유게시판</h1>
          </div>
          <div class="col-md-auto">
          </div>
          {% if(loginId==''): %}

          {% else: %}
          <button type="button" class="btn btn-primary btn-sm" onclick="location.href='/createPost'">글 등록</button>
          {% endif %}
        </div>
        <hr>

        {% if (content[0] == 0 ): %}
        <div id="function_result">
          <p>첫번째 게시글을 작성하세요!</p>
        </div>
        {% else: %}
        {% for i in range(1,content[0]+1) %}
        <div class="text-center">
          <p>
          <h3>제목: {{ content[i].ptitle }}</h2>
            </p>
            <p id="limit_contents">내용: {{ content[i].pbody }}</p>
            <form method="POST" action="/more">
              <input type="text" name="pno" style="display:none;" value="{{ content[i].pno }}">
              <button type="submit" class="btn btn-primary btn-sm">MORE</button>
            </form>
            <hr />
        </div>
        {% endfor %}
        {% endif %}
      </div>
    </div>

  </section><!-- End Services Section -->
  </mian>
  {% endblock %}