<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
  function registerGO() {
    var xhttp = new XMLHttpRequest();
    
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var member = this.responseText;
        console.log(member,"script");
        if (member == "fail") {
          alert("You are already a member.");
        }
        else {
          location.href = '/';
        }
      }
    };
    
    var parameter = 'name=' + document.getElementById("defaultRegisterFormName").value + '&id=' + document.getElementById("defaultRegisterFormId").value + '&pw=' + document.getElementById("defaultRegisterFormPassword").value + '&phone_num=' + document.getElementById("defaultRegisterPhonePassword").value;
    console.log(parameter);//입력 값 콘솔에 출력
    xhttp.open("post", "/register_route", true);
    xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
    xhttp.send(parameter);//입력 값 서버에 전송
  }
</script>

{% extends "sub_layout.html" %}
{% block content %}

<main id="main">
    <!-- ======= Login Section ======= -->
    <section class="breadcrumbs">
        <div class="container">

            <div class="d-flex justify-content-between align-items-center">
                <h2>Create Account</h2>
                <ol>
                    <li><a href="/">Home</a></li>
                    <li>Create Account</li>
                </ol>
            </div>

        </div>
    </section><!-- End Login Section -->
    <section>
        <div style="width: 60%; float:none; margin:0 auto" >
            <div class="col-lg-11">
                <div class="container">
                    <!-- Default form register -->
                    <form class="text-center border border-light p-5" action="#!">
    
                        <p class="h4 mb-4">Sign up</p>
    
                        <div class="form-row mb-4">
                            <div class="col">
                                <!-- name -->
                                <input type="text" id="defaultRegisterFormName" class="form-control" placeholder="name">
                            </div>
                        </div>
                        
                        <!-- E-mail -->
                        <input type="text" id="defaultRegisterFormId" class="form-control mb-4" placeholder="ID">
    
                        <!-- Password -->
                        <input type="password" id="defaultRegisterFormPassword" class="form-control" placeholder="Password" aria-describedby="defaultRegisterFormPasswordHelpBlock">
                        <small id="defaultRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                            At least 8 characters and 1 digit
                        </small>
    
                        <!-- Phone number -->
                        <input type="text" id="defaultRegisterPhonePassword" class="form-control" placeholder="Phone number" aria-describedby="defaultRegisterFormPhoneHelpBlock">
                        <small id="defaultRegisterFormPhoneHelpBlock" class="form-text text-muted mb-4">
                            Optional - for two step authentication
                        </small>
    
                        <!-- Newsletter -->
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="defaultRegisterFormNewsletter">
                            <label class="custom-control-label" for="defaultRegisterFormNewsletter">Subscribe to our newsletter</label>
                        </div>
    
                        <!-- Sign up button -->
                        <button class="btn btn-info my-4 btn-block" type="submit" onclick="registerGO()">Sign in</button>
    
                        <!-- Social register -->
                        <p>or sign up with:</p>
    
                        <a href="#" class="mx-2" role="button"><i class="fab fa-facebook-f light-blue-text"></i></a>
                        <a href="#" class="mx-2" role="button"><i class="fab fa-twitter light-blue-text"></i></a>
                        <a href="#" class="mx-2" role="button"><i class="fab fa-linkedin-in light-blue-text"></i></a>
                        <a href="#" class="mx-2" role="button"><i class="fab fa-github light-blue-text"></i></a>
    
                        <hr>
    
                        <!-- Terms of service -->
                        <p>By clicking
                            <em>Sign up</em> you agree to our
                            <a href="" target="_blank">terms of service</a>
    
                    </form>
    <!-- Default form register -->
                  <!-- Default form register -->
    
    <!-- Default form register -->
                  <hr>
                  <div class="text-center">
                    <a class="small" href="forgot_password_page">Forgot Password?</a>
                  </div>
                  <div class="text-center">
                    <a class="small" href="register_page">Create an Account!</a>
                  </div>
                  <div class="text-center">
                    <a class="small" href="/">Go back to the main page?</a>
                  </div>
                </div>
              </div>
        </div>
    </section>

</main>

{% endblock %}